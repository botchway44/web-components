<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/navigation.css">
    <script src="loader.js" defer type="module"></script>
  </head>

  <body>

     <!-- This is the navigation -->
     <div class="navigation">
      <div class="nav-brand">
        <a href="/">
            Staqs
      </a>
      </div>
      <div class="nav-item nav-links">
          <a href="/" class="nav-link"> <span >Home</span></a>
          <a href="/about" class="nav-link"> <span >About</span></a>
          <a href="/projects" class="nav-link"><span >Projects </span></a>
          <a href="/programs" class="nav-link"><span >Events & Training </span></a>
          <a href="/chapters" class="nav-link"><span >Chapters</span></a>

      </div>

      <div class="logo-menu">
        <!-- <div class="logo-menu-item mg-3">
          <i class="fas fa-search mg-3"></i> Search
        </div> -->
        <div id="menu_btn" class="logo-menu-item ">
         <div class="open"> <i class="fas fa-bars mg-3"> </i> Menu</div>
         
         <div class="close hidden"><i class="fas fa-times mg-3"></i> </i> Close</div>
        </div>
      </div>

      <div id="mobile_nav" class="navigation-m-only ">
        <div class="mob-nav-wrapper font-2">
          <a href="/" class="mob-nav-link" style="border-left: 6px solid  #007bff !important;"><span >Home </span></a>
          <a href="/about" class="mob-nav-link" style="border-left: 6px solid  #f59088 !important;"><span >About </span></a>
          <a href="/projects" class="mob-nav-link" style="border-left: 6px solid  #f2d535 !important;"><span >Projects </span></a>
          <a href="/programs" class="mob-nav-link" style="border-left: 6px solid  #b4539b !important"><span >Events & Training</span></a>
          <a href="/chapters" class="mob-nav-link" style="border-left: 6px solid  #5684b2 !important"><span >Chapters</span></a>
        </div>
      </div>
    </div>
    <!-- the navigation ends here -->

    
    <pip-navigation id="nav"></pip-navigation>

    <pip-pager></pip-pager>

    <pip-explainer-txt theme="white"></pip-explainer-txt>

    <pip-flexible-container> </pip-flexible-container>
    <diagonal-explainer theme="dark"></diagonal-explainer>

    <br />
    <br />
    <br />
    <navigator-pager
      description-arrow-button="true"
      backdrop="true"
    ></navigator-pager>
    <br />
    <br />
    <pip-header theme="dark"></pip-header>

    <pip-after-header></pip-after-header>

    <navigator-pager backdrop="false"></navigator-pager>
    <div class="pager"></div>
    <style>
      * {
        z-index: 0;
      }
      body {
        scroll-behavior: smooth;
      }

      .pager {
        height: 10vh;
        background-color: teal;
      }

      #nav {
        z-index: 99999 !important;
      }
    </style>

    <script>
      let data = {
        name: "John",
        image: "https://unsplash.com/photos/4TVbbaNAw9Q",
      };
      let elem = document.createElement("my-tag");
      elem.setAttribute("data", JSON.stringify(data));

      document.querySelector("body").appendChild(elem);

      setInterval(() => {
        data.name = "" + Math.random();
        elem.setAttribute("data", JSON.stringify(data));
      }, 1000);

      
let menu_clicked = true;
let nav = document.querySelector("#mobile_nav");
nav.classList.add("hidden");
let button = document.querySelector("#menu_btn");
let open = document.querySelector(".open");
let close = document.querySelector(".close");

// let container = document.querySelector(".main_page");

button.addEventListener("click", () => {
  if (menu_clicked) {
    showMenu();
    menu_clicked = false;
  } else {
    hideMenu();
    menu_clicked = true;
  }
});

// add empty space event listener
// let empty_space = document.querySelector("#mobile_nav");
// empty_space.addEventListener("click", event => {
//   hideMenu();
//   menu_clicked = true;
// });

function showMenu() {
  document.body.classList.add("no-scroll");
  // nav.classList.add("slidein");
  nav.classList.add("mobile-nav");
  nav.classList.add("mobin");

  nav.classList.remove("mobout");
  nav.classList.remove("hidden");

  open.classList.add("hidden");
  close.classList.remove("hidden");
  close.classList.add("swap");
}

function hideMenu() {
  document.body.classList.remove("no-scroll");
  nav.classList.remove("mobile-nav");
  nav.classList.remove("mobin");
  nav.classList.add("mobout");
  nav.classList.add("hidden");

  open.classList.remove("hidden");
  close.classList.add("swapout");
  close.classList.add("hidden");
}

//Show the error loading image
// var error = bodymovin.loadAnimation({
//   container: document.querySelector(".error-image"),
//   renderer: "svg",
//   loop: true,
//   autoplay: true,
//   path: "./anims/fail.json"
// });

//Show the error loading image
// var arrow = bodymovin.loadAnimation({
//   container: document.querySelector(".arrow-down"),
//   renderer: "svg",
//   loop: true,
//   autoplay: true,
//   path: "./anims/2810-arrow-down.json"
// });


let navigation = document.querySelector(".navigation");
 //Make the NavBar static
      document.addEventListener("scroll",(ev)=>{
        if (window.scrollY == 0) {
          //user is at the top of the page; no need to show the back to top button
          // container.style.position = "relative";
          console.log("Navigationn not fixed")
          console.log(navigation);
          navigation.style.display = "none";
        } else {
          // container.style.position = "fixed";
          
          navigation.classList.remove("hidden");
          console.log("Navigation fie");
          navigation.style.display = "flex";
        }
      });


    </script>
  </body>
</html>
